{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Erdem\\\\Desktop\\\\alertappfrontend\\\\src\\\\components\\\\getGraphic.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { CanvasJSChart, CanvasJS } from '../canvasjs.react';\nexport default class GetGraphic extends React.Component {\n  constructor() {\n    super();\n\n    this.getMyAlerts = () => {\n      //8090 grafik için gerekli.\n      axios.get('http://localhost:8090/alertlist/' + this.props.match.params.id).then(obj => {\n        this.setState({\n          alertName: obj.data.alertName,\n          period: obj.data.period,\n          url: obj.data.url,\n          alertStatuses: [...obj.data.alertStatuses],\n          method: obj.data.method\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      alertName: '',\n      url: '',\n      method: '',\n      period: 0,\n      alertStatuses: []\n    };\n  }\n\n  componentDidMount() {\n    this.getMyAlerts();\n  }\n\n  componentDidUpdate() {\n    this.getMyAlerts();\n  }\n\n  render() {\n    let dps = this.state.alertStatuses.map(alertStatus => {\n      return {\n        x: new Date(alertStatus.alertDate),\n        y: alertStatus.status\n      };\n    });\n    let last_25_dps = dps.length < 10 ? [...dps] : [...dps.slice(dps.length - 10, dps.length)];\n    let options = {\n      title: {\n        text: \"Graph of \" + this.state.alertName.toUpperCase()\n      },\n      axisX: {\n        crosshair: {\n          enabled: false,\n          //Alttan gostermeli cubuk aktivitesi\n          snapToDataPoint: true,\n          thickness: 2,\n          lineDashType: \"longDashDotDot\"\n        },\n        labelFormatter: function (e) {\n          return CanvasJS.formatDate(e.value, \"DD MMM YY HH:mm:ss\");\n        },\n        labelAngle: -45,\n        title: \"Date\",\n        lineThickness: 2,\n        lineColor: \"#333\",\n        lineDashType: \"longDash\"\n      },\n      axisY: {\n        title: \"Alert Status\",\n        lineThickness: 2,\n        lineColor: \"#333\",\n        lineDashType: \"longDash\"\n      },\n      data: [{\n        xValueFormatString: \"HH:mm:ss\",\n        markerType: \"circle\",\n        //\"circle\", \"square\", \"cross\", \"none\"\n        markerSize: 10,\n        markerColor: \"#4CAF50\",\n        type: \"line\",\n        lineColor: \"#4CAF50\",\n        dataPoints: last_25_dps\n      }],\n      backgroundColor: \"whitesmoke\"\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"graph-infos mt-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Alert Name: \"), \" \", this.state.alertName), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Alert URL: \"), this.state.url), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Alert Period: \"), this.state.period), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Alert Method: \"), this.state.method)), React.createElement(\"div\", {\n      className: \"mt-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(CanvasJSChart, {\n      className: \"myform\",\n      options: options,\n      onRef: ref => this.chart = ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \" mt-10 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"http://localhost:3000/alertlist\",\n      className: \"graph-btn mt-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Back to list\")), React.createElement(\"div\", {\n      className: \" mt-10 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"http://localhost:3000\",\n      className: \"graph-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Back to home page\")));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\Erdem\\Desktop\\alertappfrontend\\src\\components\\getGraphic.js"],"names":["React","axios","CanvasJSChart","CanvasJS","GetGraphic","Component","constructor","getMyAlerts","get","props","match","params","id","then","obj","setState","alertName","data","period","url","alertStatuses","method","catch","error","console","log","state","componentDidMount","componentDidUpdate","render","dps","map","alertStatus","x","Date","alertDate","y","status","last_25_dps","length","slice","options","title","text","toUpperCase","axisX","crosshair","enabled","snapToDataPoint","thickness","lineDashType","labelFormatter","e","formatDate","value","labelAngle","lineThickness","lineColor","axisY","xValueFormatString","markerType","markerSize","markerColor","type","dataPoints","backgroundColor","ref","chart"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport {CanvasJSChart,CanvasJS} from '../canvasjs.react';\r\n\r\n\r\nexport default class GetGraphic extends React.Component{\r\n    constructor() {\r\n        super();\r\n        this.state={\r\n            alertName: '',\r\n            url: '',\r\n            method: '',\r\n            period: 0,\r\n            alertStatuses: []\r\n        }\r\n    }\r\n\r\n    getMyAlerts = () => {\r\n        //8090 grafik için gerekli.\r\n        axios.get('http://localhost:8090/alertlist/' + this.props.match.params.id)\r\n            .then(obj => {\r\n                this.setState({\r\n                    alertName: obj.data.alertName,\r\n                    period: obj.data.period,\r\n                    url: obj.data.url,\r\n                    alertStatuses:[...obj.data.alertStatuses],\r\n                    method: obj.data.method,\r\n                });\r\n\r\n            }).catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.getMyAlerts();\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        this.getMyAlerts();\r\n    }\r\n\r\n    render() {\r\n        let dps = this.state.alertStatuses.map((alertStatus) => {\r\n            return {x: new Date(alertStatus.alertDate), y: alertStatus.status}\r\n\r\n        });\r\n        let last_25_dps = ((dps.length < 10) ? [...dps] : [...dps.slice(dps.length - 10, dps.length)]);\r\n        let options = {\r\n            title: {\r\n                text: \"Graph of \" + (this.state.alertName).toUpperCase()\r\n\r\n            },\r\n            axisX: {\r\n                crosshair: {\r\n                    enabled: false, //Alttan gostermeli cubuk aktivitesi\r\n                    snapToDataPoint: true,\r\n                    thickness: 2,\r\n                    lineDashType: \"longDashDotDot\",\r\n                },\r\n\r\n                labelFormatter: function (e) {\r\n                    return CanvasJS.formatDate(e.value, \"DD MMM YY HH:mm:ss\");\r\n                },\r\n                labelAngle: -45,\r\n                title: \"Date\",\r\n                lineThickness: 2,\r\n                lineColor: \"#333\",\r\n                lineDashType: \"longDash\",\r\n            },\r\n            axisY: {\r\n                title: \"Alert Status\",\r\n                lineThickness: 2,\r\n                lineColor: \"#333\",\r\n                lineDashType: \"longDash\"\r\n            },\r\n            data: [{\r\n                xValueFormatString: \"HH:mm:ss\",\r\n                markerType: \"circle\",  //\"circle\", \"square\", \"cross\", \"none\"\r\n                markerSize: 10,\r\n                markerColor: \"#4CAF50\",\r\n                type: \"line\",\r\n                lineColor: \"#4CAF50\",\r\n                dataPoints: last_25_dps\r\n            }],\r\n            backgroundColor: \"whitesmoke\"\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"graph-infos mt-20\">\r\n                    <h3><i>Alert Name: </i> {this.state.alertName}</h3>\r\n                    <h3><i>Alert URL: </i>{this.state.url}</h3>\r\n                    <h3><i>Alert Period: </i>{this.state.period}</h3>\r\n                    <h3><i>Alert Method: </i>{this.state.method}</h3>\r\n                </div>\r\n                <div className=\"mt-20\">\r\n                    <CanvasJSChart className=\"myform\" options={options}\r\n                                   onRef={ref => this.chart = ref}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\" mt-10 \">\r\n                    <a href=\"http://localhost:3000/alertlist\" className=\"graph-btn mt-20\">Back to list</a>\r\n                </div>\r\n\r\n                <div className=\" mt-10 \">\r\n                    <a href=\"http://localhost:3000\" className=\"graph-btn\">Back to home page</a>\r\n                </div>\r\n                {/*You can get reference to the chart instance as shown above using onRef. This allows you to access all chart properties and methods*/}\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}